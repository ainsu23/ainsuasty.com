---
title: "Extract information with encoding in R"
author: 'Andrés Felipe Insuasty Ch.'
date: '2021-04-03'
slug: Extract information with encoding
categories: ["Extract information"]
tags: ["Encoding"]
---

<script src="{{< blogdown/postref >}}index.en_files/header-attrs/header-attrs.js"></script>


<div id="are-you-a-non-english-r-user" class="section level2">
<h2><em>Are you a non English R user?</em></h2>
<p>In my case, Spanish language has the following letters: á, é, í, ó, ú, ü and ñ. This letters are saved different depending on the encoding (computation language) of the table you are extracting the data. And reading them might cause some headaches.</p>
<div id="tips" class="section level3">
<h3>Tips</h3>
<ol style="list-style-type: decimal">
<li><p>To avoid having strange characters when reading the previews letters, make sure you are extracting the data with the same encoding of the table from your database (check properties of the table) or excel file.</p></li>
<li><p>Choose the correct option in the parameter encoding when reading the data.</p></li>
</ol>
<p><em>For database</em>, when you are establishing connection, use the encoding of the table
<strong><code>con&lt;-DBI::dbConnect(odbc::odbc(),"Nombre_odbc",encoding="Latin1")</code></strong></p>
<p>If different tables from the database use different encoding, use a different <em>con</em> when using <code>DBI::dbgetquery(con, glue::glue("..."))</code></p>
<p>For excel, good news!
<code>readxl::read.xlsx</code> identifies the encoding by itself and bring the information correctly.</p>
<p>For csv or txt files . Use file encoding parameter when using the read function.</p>
<ol start="3" style="list-style-type: decimal">
<li>Encoding also apply when you are writing in R. Save the file with encoding utf8 and open with Latin1 might provoke different characters, then, reopen the file with the same encoding that was saved.</li>
</ol>
<p>Last tip for Spanish users: Most common encoding for Spanish language are UTF-8
, Latin1 and ISO 8859-1</p>
<p>Hope this tips help you in your daily work. It took some mistakes when presenting or errors that i have to deal with workarounds while i found the real and easy way of working with.</p>
</div>
</div>
