---
title: Sending automatic emails with R üìß
author: 'Andr√©s Felipe Insuasty Ch.'
date: '2021-04-25'
categories: [Rmarkdown,Blastula]
tags: [Rmarkdown,Blastula]
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>


<style type="text/css">
.blocks_style {
  font-weight: bold;
  background-color: whitesmoke;
  color: black;
  font-style: italic;
  font-family: Monospace;
}
</style>
<div id="automatic-reports-through-emails" class="section level1">
<h1>Automatic reports through emails üìß</h1>
<p>Impress your boss with automatic reports in their emails.</p>
<p>Packages required:</p>
<ol style="list-style-type: decimal">
<li><code>blastula</code>: Package to send emails</li>
<li><code>keyring</code>: Set credentials of email üîê</li>
<li><code>Rmardown</code>: Create automatic reports</li>
</ol>
<div id="read-rmarkdown-file" class="section level3">
<h3>Read Rmarkdown file</h3>
<p>set directory of your Rmarkdown file</p>
<pre class="r blocks_style"><code>tempreport &lt;- file.path(...) </code></pre>
</div>
<div id="render-mail-with-tempfile" class="section level3">
<h3>Render mail with tempfile</h3>
<pre class="r blocks_style"><code># email &lt;- blastula::render_email(input = tempreport)</code></pre>
</div>
<div id="send-email" class="section level3">
<h3>send email</h3>
<p>*credentials are explained at the end of the post!</p>
<blockquote>
<pre class="r"><code>email %&gt;% blastula::smtp_send(from=&quot;from.username@hotmail.com&quot;,
to=&quot;to.username@hotmail.com&quot;, # c() to send 2 or more
subject = glue(&quot;Automatic emails \U0001F600&quot;),
credentials=creds_key(&quot;outlook&quot;), # given in credentials
verbose = FALSE)</code></pre>
</blockquote>
<p><img src="images/AutomaticReport.JPG" /><img src="images/Saludos_Rmarkdown.JPG" alt="Rmardown file" /></p>
</div>
<div id="credentials" class="section level3">
<h3>*Credentials</h3>
<p>Emails are sent throught smtp, this requires a port (specified by your company or by email vendor - for outlook is 587).</p>
<pre class="r blocks_style"><code># blastula::create_smtp_creds_key(
  # &quot;outlook&quot;,&quot;your.username@hotmail.com&quot;,provider = &quot;outlook&quot;,port = 587)`</code></pre>
</div>
</div>
